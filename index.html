<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
  <title>發現中小企</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/foundation-sites@6.6.3/dist/js/foundation.min.js">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
 
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  
  <script src="https://kit.fontawesome.com/a076d05399.js"></script>
  <script type="text/javascript" src="main.js"></script>
<style>

</style>
</head>
<body>

<script>// Require variables to be declared prior to use
var button // Represents the 'button' div
var payload // Represents the div that will be hidden


// Called when the 'button' div is clicked.
// Toggles the 'payload' div's membership of the 'hidden' class.
function togglePayload() {
payload.classList.toggle('hidden');
}


// Sets everything up. Called automatically when the page loads.
function init() {
// Connect the button variable with the button div
button = document.querySelector('.button')

// Connect the payload variable with the payload div
payload = document.querySelector('.payload')

// Call the togglePayload function when the button div is clicked
button.onclick = togglePayload;
}
// Run the init function when the page loads.
document.addEventListener("DOMContentLoaded", init, false);

function w3_open() {
    document.getElementById("mySidebar").style.display = "block";
}
function w3_close() {
    document.getElementById("mySidebar").style.display = "none";
}




</script>



<div class="w3-bar" style="background-color: #2d2d86; position:fixed; z-index: 2; top:0px;">
  <a href="#" class="w3-bar-item w3-button w3-left">
  <button class="w3-button w3-large" style="background-color:#9f9fdf;" onclick="w3_open()"><i class="fas fa-bars"></i></button>
  </a>
  <a href="#" class="w3-bar-item" style="float:both;" >
  <span style="font-family:Brush Script Std;
               color:white;
		       font-size:1.75em;">MacauSMEfind</span>
  </a>
  <a href="#" class="w3-bar-item w3-button w3-right">
  <button class="w3-button w3-large" style="background-color:#9f9fdf;" onclick=""><i class="fas fa-cog"></i></button>
  </a>
</div>


<div id="pop-up" class="payload w3-card-4 w3-animate-top w3-light-blue w3-bottombar w3-border-cyan" 
     style="">
<p>
<button id="close" class="button w3-button w3-circle w3-black w3-border-light-blue w3-right btn-lg" >
        
<i class="fas fa-times"></i></button>
</p>
<img src="bojack.png" alt="開發成員" width="100px" height="100px;" style="position:absolute;top:10px;left:10px;" />
<span style="position:relative;">
<h3 class="w3-left-align w3-text-white" style="font-family:細明體;padding-left: 120px;">發現中小企</h3>
<h6 class="w3-left-align w3-text-white" style="font-family:細明體;padding-left: 120px;word-warp:break-word;">發現中小企是由個人開發網頁，目標是提供一個穩定的平台讓使用者記錄並分享他們在澳門所見的
中小企業，從而共同分發掘澳門不為人知的有趣企業。</h6>
</span>

</div>

<div class="w3-sidebar w3-bar-block w3-animate-left sidebar"  id="mySidebar">
 <table class="w3-table">
  <thead class="thead-light">
  <tr class="w3-light-grey" style="display:block; width:100%; height:60px;">
      <th class="w3-bar-item">
           <button class="w3-bar-item  w3-button w3-large" onclick="w3_close()"><i class="fas fa-times"></i>關閉</button>
      </th>
	  <th></th>
  </tr>
   </thead>
   <tbody>
  
  <tr class="w3-hover-none">
   <td style="width:185px;"><input type="text" class="w3-input w3-white w3-mobile " placeholder="搜尋.." ></td>
   <td style="width:70px;"><button class="w3-button w3-green w3-mobile w3-large"><i class="fas fa-search"></i></button></td>
  </tr>
  <tr  class="w3-margin-top">
      <td><a href="#main"  class="w3-bar-item w3-light-grey w3-button w3-leftbar w3-border-indigo">
	  <i class="fas fa-home"></i>首頁</a></td>
  </tr>
  <tr>
      <td><a href="#about" class="w3-bar-item w3-light-grey w3-button">
	  <i class="fas fa-info-circle"></i>關於網頁</a></td>
  </tr>
  <tr class="w3-margin-top">
      <td><a href="#form" class="w3-bar-item w3-light-grey w3-button">
	  <i class="fas fa-plus"></i>新增帖文</a></td>
  </tr>

  <tr>
      <td><a href="#heart" class="w3-bar-item w3-light-grey w3-button">
	  <i class="far fa-star"></i>收藏</a></td>
  </tr>
  </tbody>
</table>
</div>

<script>

// Store
localStorage.setItem("lastname", "Smith");

// Retrieve
document.getElementById("result").innerHTML = localStorage.getItem("lastname");

$(document).ready(function(){
    var newElem = $("<div>I am new element!</div>");
    $("body").insertAfter(newElem);

});


var newElem = $("<div>I am new element!</div>");
    $("body").insertAfter(newElem);

</script>

 <div class="tabs w3-bar" style="width:100%; margin-top:75px; background: #f2e6ff;">
  <a class="w3-bar-item tab" style="width:20%;margin-left:5%;padding-left:0px;" href="#main" id="main">
  <i class="fas fa-home"></i>首頁
  </a>
  <a class="w3-bar-item tab" style="width:20%;margin-left:5%;padding-left:0px;" href="#about" id="about">
  <span class="closs_button" href="#about"><i class="fas fa-times-circle"></i></span>關於
  </a>
  <a class="w3-bar-item tab" style="width:20%;margin-left:5%;padding-left:0px;" href="#form" id="form">
  <span class="closs_button" href="#form"><i class="fas fa-times-circle"></i></span>新增
  </a>
  <a class="w3-bar-item tab" style="width:20%;margin-left:5%;padding-left:0px;" href="#heart" id="heart">
  <span class="closs_button" href="#heart"><i class="fas fa-times-circle"></i></span>收藏
  </a>
  </div>

<hr style="border:5px solid #707070; margin:0px;">


<div class="w3-container" id="abc" style="width:100%; background-color:#fafafa; padding:0px;">
 

<div class="tab-content panel panel-primary center main" id="main" style=" border:0px; box-shadow: 0px 3px 10px #888888;">
  <div class="panel-heading center" style="background-color:#004d99;">
	<h1><i class="fas fa-utensils"></i>光輝咖啡</h1>
	
  </div>

  <div class="panel-body w3-left-align">
 
	<div>
	  <img src="shop1.jpg" width="360px" height="200px" class="center" style="object-fit: fill;">
	</div>
	<div class="w3-margin-top">
	  <p>地址:
	  <a href="https://www.google.com/maps/place/%E5%85%89%E8%BC%9D%E5%92%96%E5%95%A1/@22.2020255,113.548387,15z/data=!4m2!3m1!1s0x0:0xbb1ca8825ca52177?sa=X&ved=2ahUKEwicx-qij-vqAhUQfd4KHey-DroQ_BIwE3oECBIQCA" style="text-decoration:none;">
	  <font color="red"><i class="fas fa-map-marker-alt"></i></font>澳門高士德大馬路33號C號</a></p>
	</div>
	<div>
	  <p style="word-wrap: break-word;">連結:<a href="https://www.facebook.com/pages/%E5%85%89%E8%BC%9D%E5%92%96%E5%95%A1/159967070726097">
	  https://www.facebook.com/pages/光輝咖啡/159967070726097</p></a>
	</div>
	<div>
	  <p>留言：今日一家尋食到澳門，高仕德街下車後剛轉街角看見一間舊式茶室…舊式餐室，好多人都污糟邋遢，
	  食物質素差，唔衛生。其實都不其然，玻璃肚的我對食和衛生都有一定要求。一踏進店給人一種被時間遺忘，
	  一陣煎肉，烘包香氣傳來。短短二十分鐘就有五十多個外賣客真不簡單。豬扒包，脆香肉濃又不油膩雲吞撈，
	  醬油香濃麪質爽口魚餅撈，手打魚餅肉質爽Q</p>
	</div>
	<div>
	  <p>評分：
	  <i class="fas fa-star"></i>
	  <i class="fas fa-star"></i>
	  <i class="fas fa-star"></i>
	  <i class="fas fa-star"></i>
	  <i class="fas fa-star-half-alt"></i>
	  </p>
	</div>  
  </div>
</div>

<div class='tab-content' id="about">
<p>
dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text 
dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text 
dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text 
</p>
<div id="out"></div>

</div>


<div class='tab-content' id="form">
<form action="https://formsubmit.co/chanchengleong@gmail.com" id="sme-form" method="post"
      class="panel panel-primary center main" 
	  style=" border:0px; box-shadow: 0px 3px 10px #888888;">
  <div class="panel-heading center" style="background-color:#004d99;">
	<select name="sme-type" form="sme-form" class="w3-input w3-text-black" >
	    <option value="" disabled selected>--選擇中小企類型--</option>
	  <optgroup label="飲食">
	    <option value="restaurant">餐廳</option>
		<option value="takeaway">外賣店</option>
		<option value="bakery">餅店</option>
	  </optgroup>
	  <optgroup label="零售">
         <option value="grocery">雜貨店/超市</option>
         <option value="c-store">便利店</option>
		 <option value="store">專賣店</option>
      </optgroup>
	  <optgroup label="服務">
         <option value="p-service">個人服務</option>
         <option value="t-service">運輸</option>
		 <option value="i-service">保險/地產</option>
		 <option value="c-service">商用服務</option>
      </optgroup>
		 <option value="education">教育</option>
         <option value="entertainment">娛樂</option>
		 <option value="other">其他</option>
    </select>
	<input name="sme-name" type="text" class="w3-input w3-text-black" placeholder="名稱">
  </div>
  <div class="panel-body w3-left-align">
	<div>
	  <input name="sme-image" type="file" accept=".bmp, .jpeg, .jp2, .gif, .tiff, .png, .exif, .wbmp, .mbm">
	</div>
	<div class="w3-margin-top">
	  <p>地址:
	  <input name="sme-location" class="w3-input" id="latlng" placeholder="位置" disabled></input>
	  <input name="sme-address" class="w3-input"  id="formattedAddress" placeholder="地址" disabled></input>
	  </p>
	  
	  <div id="get_location" class="w3-button w3-green ">
       <i class="fas fa-map-marker-alt"></i>
	   自動獲取位置
	   </div>
	</div>
	<div class="w3-margin-top">
	  <p style="word-wrap: break-word;">連結:
	  <font color="blue"><i class="fas fa-link"></i></font>
	  <input name="sme-link" type="url" class="w3-input w3-text-black" placeholder="連結">
	  </input>
	  </p>
	</div>
	<div>
	<p>留言:</p>
	  <textarea name="sme-comment" form="sme-form" class="w3-input w3-border"></textarea>
	</div> 
  </div>
 <button type="submit" class="panel-footer w3-button w3-block w3-indigo w3-ripple w3-xlarge">
 <i class="fas fa-plus"></i>新增帖文
 </button>
 </form>
</div>

<script>

var request = new XMLHttpRequest()

// Open a new connection, using the GET request on the URL endpoint
request.open('GET', 'https://maps.googleapis.com/maps/api/geocode/json?latlng=40.714224,-73.961452&key=AIzaSyCWBgY-PLEL7qHq2kHr7qnea7kHUirVAg0', true)

request.onload = function () {
  // Begin accessing JSON data here
}

// Send request
request.send();


if('geolocation' in navigator) {
  console.log('geolocation available');
  navigator.geolocation.getCurrentPosition(position => {
    console.log(position);

    var lat = position.coords.latitude;
	
	var lng = position.coords.longitude;
	var latlng = lat + ',' + lng;
	
	
	$("#get_location").click(function(){
	  $('#latlng').val(latlng); 
});
	
  });
} else {
  console.log('geolocation not available')
  $("#get_location").click(function(){
	  $('#latitude').val('geolocation not available');
	  $('formattedAddress').val(formattedAddress);
});
};

navigator.geolocation.getCurrentPosition(position => {
var lat = position.coords.latitude;
var lng = position.coords.longitude;
var latlng = lat + ',' + lng;


geocode();

function geocode() {
	var key = "AIzaSyCWBgY-PLEL7qHq2kHr7qnea7kHUirVAg0";
    alert('https://maps.googleapis.com/maps/api/geocode/json?latlng=' + latlng + '&key=' + key); 
    axios.get('https://maps.googleapis.com/maps/api/geocode/json?latlng=' + latlng + '&key=' + key)
    .then(function(response){
        //log full response
        console.log(response);

    var formattedAddress = response.data.results[0].formatted_address;
    
      })
    .catch(function(error){
    console.log(error);
    })
  }

});

</script>


<div class='tab-content' id="heart">
<p>
dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text 
dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text 
dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text dummy text 
</p>
</div>


</div>

<a href="#top" style="position: fixed; right: 20px; bottom: 20px">
Back to Top
</a>



<script>
// Check browser support
if (typeof(Storage) !== "undefined") {
  // Store
  localStorage.setItem("lastname", "Smith");
  // Retrieve
  document.getElementById("result").innerHTML = localStorage.getItem("lastname");
} else {
  document.getElementById("result").innerHTML = "Sorry, your browser does not support Web Storage...";
}
</script>


</body>
</html>
